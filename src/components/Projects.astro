---
import { getCollection } from "astro:content";
import Button from "./atoms/Button.astro";
import Text from "../components/atoms/Text.astro";
import SubTitle from "./atoms/SubTitle.astro";

let projects = await getCollection("projects");
---

<div class="mt-2 space-y-4 pl-3">
  {
    projects.map((project: any) => (
      <div>
        <SubTitle 
          text={project.data.title}
          size="lg"
          color="dark"
          className="text-primary"
          weight="semi"
          style="progressive"
          href={`/projects/${project.slug}`}
        />
        <Text
          text={project.data.description}
          size="lg"
          color="dark"
          style="none"
          className="ml-1 line-clamp-2"
        />
      </div>
    ))
  }

  <hr />
  <Button variant="link" href="/projects" size="xs"> View More...</Button>
</div>
